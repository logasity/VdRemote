<!DOCTYPE html>
<html>
<head>
  <title>Remote Input Panel</title>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database-compat.js"></script>
</head>
<body>
  <h2>Enter Password:</h2>
  <input type="password" id="passInput">
  <button onclick="unlock()">Unlock</button>

  <div id="controlPanel" style="display:none;">
    <h3>Remote Control Active</h3>
    <p>Move mouse or type to send input.</p>
  </div>

  <script>
    const PASSWORD = "openSesame123";

    function unlock() {
      if (document.getElementById("passInput").value === PASSWORD) {
        document.getElementById("controlPanel").style.display = "block";
      } else {
        alert("Incorrect password.");
      }
    }

    // Initialize Firebase
   const firebaseConfig = {
    apiKey: "AIzaSyAuKvgsZrQUOPKrnTod4RiMhxVja67vp_Q",
    authDomain: "vdremote-99d5e.firebaseapp.com",
    databaseURL: "https://vdremote-99d5e-default-rtdb.firebaseio.com",
    projectId: "vdremote-99d5e",
    storageBucket: "vdremote-99d5e.firebasestorage.app",
    messagingSenderId: "894907813309",
    appId: "1:894907813309:web:f40b769c2055ea936796d4"
  };

    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    // Send keyboard input
    document.addEventListener("keydown", (e) => {
      db.ref("input").set({
        type: "key",
        key: e.key,
        timestamp: Date.now()
      });
    });

    // Send mouse movement (just X/Y for now)
    document.addEventListener("mousemove", (e) => {
      db.ref("input").set({
        type: "mouse",
        x: e.clientX,
        y: e.clientY,
        timestamp: Date.now()
      });
    });
  </script>
</body>
</html>
